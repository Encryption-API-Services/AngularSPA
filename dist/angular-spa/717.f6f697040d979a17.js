"use strict";(self.webpackChunkAngularSPA=self.webpackChunkAngularSPA||[]).push([[717],{6717:(C,l,a)=>{a.r(l),a.d(l,{ForgotPasswordModule:()=>Z});var m=a(6895),u=a(7163),r=a(433),p=a(2340),o=a(1571),c=a(6858),f=a(7185);function w(t,i){if(1&t){const s=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(n){o.CHM(s);const d=o.oxw();return o.KtG(d.handleSubmit(n))}),o._uU(1,"Submit"),o.qZA()}}function g(t,i){1&t&&(o.TgZ(0,"div",8)(1,"span",9),o._uU(2,"Loading..."),o.qZA()())}let b=(()=>{class t{constructor(s,e,n){this.formBuilder=s,this.http=e,this.toastr=n,this.apiUrl=p.N.apiUrl+"Password/ForgotPassword",this.isFormSubmitted=!1,this.forgotPasswordForm=this.formBuilder.group({email:["",[r.kI.required,r.kI.email]]})}ngOnInit(){}handleKeyPress(s){13===s.keyCode&&this.handleSubmit(s)}handleSubmit(s){this.isFormSubmitted=!0,this.forgotPasswordForm.valid?this.http.post(this.apiUrl,{email:this.forgotPasswordForm.value.email}).subscribe(n=>{console.log(n),this.isFormSubmitted=!1,this.forgotPasswordForm.reset(),this.toastr.success("",n.message)},n=>{this.isFormSubmitted=!1}):this.isFormSubmitted=!1}}return t.\u0275fac=function(s){return new(s||t)(o.Y36(r.qu),o.Y36(c.O),o.Y36(f._W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-forgot-password"]],decls:16,vars:3,consts:[[1,"row"],[1,"col"],[3,"formGroup","keydown"],["for","email-input",1,"form-label"],["type","email","id","email-input","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["class","spinner-border text-primary","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(s,e){1&s&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",1)(3,"h2"),o._uU(4,"Forgot Password"),o.qZA()(),o._UZ(5,"div",1),o.qZA(),o.TgZ(6,"div",0),o._UZ(7,"div",1),o.TgZ(8,"div",1)(9,"form",2),o.NdJ("keydown",function(d){return e.handleKeyPress(d)}),o.TgZ(10,"label",3),o._uU(11,"Email"),o.qZA(),o._UZ(12,"input",4),o.YNc(13,w,2,0,"button",5),o.YNc(14,g,3,0,"div",6),o.qZA()(),o._UZ(15,"div",1),o.qZA()),2&s&&(o.xp6(9),o.Q6J("formGroup",e.forgotPasswordForm),o.xp6(4),o.Q6J("ngIf",!e.isFormSubmitted),o.xp6(1),o.Q6J("ngIf",e.isFormSubmitted))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),t})();var h=a(5983);function F(t,i){if(1&t){const s=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(n){o.CHM(s);const d=o.oxw();return o.KtG(d.handleSubmit(n))}),o._uU(1,"Submit"),o.qZA()}}function P(t,i){1&t&&(o.TgZ(0,"div",10)(1,"span",11),o._uU(2,"Reseting..."),o.qZA()())}const v=[{path:"",component:b},{path:"reset",component:(()=>{class t{constructor(s,e,n,d){this.formBuilder=s,this.http=e,this.router=n,this.toastr=d,this.apiUrl=p.N.apiUrl+"Password/ResetPassword",this.hasFormBeenSubmitted=!1,this.resetPasswordForm=this.formBuilder.group({password:["",[r.kI.required,h.ym]],confirmpassword:["",[r.kI.required,h.ym]]})}ngOnInit(){}handleKeyDownOnForm(s){13===s.keyCode&&this.handleSubmit(s)}handleSubmit(s){if(this.resetPasswordForm.valid&&this.resetPasswordForm.value.password===this.resetPasswordForm.value.confirmpassword){this.hasFormBeenSubmitted=!0;const e={id:this.router.snapshot.queryParamMap.get("id"),token:this.router.snapshot.queryParamMap.get("token"),password:this.resetPasswordForm.value.password,confirmpassword:this.resetPasswordForm.value.confirmpassword};this.http.post(this.apiUrl,e).subscribe(n=>{this.hasFormBeenSubmitted=!1,this.resetPasswordForm.reset(),this.toastr.success("","You have changed your password")},n=>{this.hasFormBeenSubmitted=!1,this.toastr.error("",n.error.error)})}}}return t.\u0275fac=function(s){return new(s||t)(o.Y36(r.qu),o.Y36(c.O),o.Y36(u.gz),o.Y36(f._W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-reset-password"]],decls:19,vars:3,consts:[[1,"row"],[1,"col"],[3,"formGroup","keydown"],["for","password-input",1,"form-label"],["type","password","id","password-input","formControlName","password",1,"form-control"],["for","confirmpassword-input",1,"form-label"],["type","password","id","password-input","formControlName","confirmpassword",1,"form-control"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["class","spinner-border text-primary","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(s,e){1&s&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",1)(3,"h2"),o._uU(4,"Reset Password"),o.qZA()(),o._UZ(5,"div",1),o.qZA(),o.TgZ(6,"div",0),o._UZ(7,"div",1),o.TgZ(8,"div",1)(9,"form",2),o.NdJ("keydown",function(d){return e.handleKeyDownOnForm(d)}),o.TgZ(10,"label",3),o._uU(11,"Password"),o.qZA(),o._UZ(12,"input",4),o.TgZ(13,"label",5),o._uU(14,"Confirm Password"),o.qZA(),o._UZ(15,"input",6),o.YNc(16,F,2,0,"button",7),o.YNc(17,P,3,0,"div",8),o.qZA()(),o._UZ(18,"div",1),o.qZA()),2&s&&(o.xp6(9),o.Q6J("formGroup",e.resetPasswordForm),o.xp6(7),o.Q6J("ngIf",!e.hasFormBeenSubmitted),o.xp6(1),o.Q6J("ngIf",e.hasFormBeenSubmitted))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[u.Bz.forChild(v),u.Bz]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.ez,y,r.UX]}),t})()}}]);
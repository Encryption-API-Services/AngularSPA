"use strict";(self.webpackChunkAngularSPA=self.webpackChunkAngularSPA||[]).push([[717],{6717:(T,u,a)=>{a.r(u),a.d(u,{ForgotPasswordModule:()=>C});var m=a(6895),l=a(7163),r=a(433),p=a(2340),t=a(1571),c=a(6858),f=a(7185),h=a(1481);function g(o,i){if(1&o){const s=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(n){t.CHM(s);const d=t.oxw();return t.KtG(d.handleSubmit(n))}),t._uU(1,"Submit"),t.qZA()}}function P(o,i){1&o&&(t.TgZ(0,"div",8)(1,"span",9),t._uU(2,"Loading..."),t.qZA()())}let F=(()=>{class o{constructor(s,e,n,d){this.formBuilder=s,this.http=e,this.toastr=n,this.title=d,this.apiUrl=p.N.apiUrl+"Password/ForgotPassword",this.isFormSubmitted=!1,this.forgotPasswordForm=this.formBuilder.group({email:["",[r.kI.required,r.kI.email]]})}ngOnInit(){this.title.setTitle("Forgot Password | Encryption API Services")}handleKeyPress(s){13===s.keyCode&&this.handleSubmit(s)}handleSubmit(s){this.isFormSubmitted=!0,this.forgotPasswordForm.valid?this.http.post(this.apiUrl,{email:this.forgotPasswordForm.value.email}).subscribe(n=>{console.log(n),this.isFormSubmitted=!1,this.forgotPasswordForm.reset(),this.toastr.success("",n.message)},n=>{this.isFormSubmitted=!1}):this.isFormSubmitted=!1}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(r.qu),t.Y36(c.O),t.Y36(f._W),t.Y36(h.Dx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-forgot-password"]],decls:16,vars:3,consts:[[1,"row"],[1,"col"],[3,"formGroup","keydown"],["for","email-input",1,"form-label"],["type","email","id","email-input","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["class","spinner-border text-primary","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(s,e){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",1)(3,"h2"),t._uU(4,"Forgot Password"),t.qZA()(),t._UZ(5,"div",1),t.qZA(),t.TgZ(6,"div",0),t._UZ(7,"div",1),t.TgZ(8,"div",1)(9,"form",2),t.NdJ("keydown",function(d){return e.handleKeyPress(d)}),t.TgZ(10,"label",3),t._uU(11,"Email"),t.qZA(),t._UZ(12,"input",4),t.YNc(13,g,2,0,"button",5),t.YNc(14,P,3,0,"div",6),t.qZA()(),t._UZ(15,"div",1),t.qZA()),2&s&&(t.xp6(9),t.Q6J("formGroup",e.forgotPasswordForm),t.xp6(4),t.Q6J("ngIf",!e.isFormSubmitted),t.xp6(1),t.Q6J("ngIf",e.isFormSubmitted))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),o})();var w=a(5983);function b(o,i){if(1&o){const s=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(n){t.CHM(s);const d=t.oxw();return t.KtG(d.handleSubmit(n))}),t._uU(1,"Submit"),t.qZA()}}function v(o,i){1&o&&(t.TgZ(0,"div",10)(1,"span",11),t._uU(2,"Reseting..."),t.qZA()())}const y=[{path:"",component:F},{path:"reset",component:(()=>{class o{constructor(s,e,n,d,S){this.formBuilder=s,this.http=e,this.router=n,this.toastr=d,this.title=S,this.apiUrl=p.N.apiUrl+"Password/ResetPassword",this.hasFormBeenSubmitted=!1,this.resetPasswordForm=this.formBuilder.group({password:["",[r.kI.required,w.ym]],confirmpassword:["",[r.kI.required,w.ym]]})}ngOnInit(){this.title.setTitle("Reset Password | Encryption API Services")}handleKeyDownOnForm(s){13===s.keyCode&&this.handleSubmit(s)}handleSubmit(s){if(this.resetPasswordForm.valid&&this.resetPasswordForm.value.password===this.resetPasswordForm.value.confirmpassword){this.hasFormBeenSubmitted=!0;const e={id:this.router.snapshot.queryParamMap.get("id"),token:this.router.snapshot.queryParamMap.get("token"),password:this.resetPasswordForm.value.password,confirmpassword:this.resetPasswordForm.value.confirmpassword};this.http.post(this.apiUrl,e).subscribe(n=>{this.hasFormBeenSubmitted=!1,this.resetPasswordForm.reset(),this.toastr.success("","You have changed your password")},n=>{this.hasFormBeenSubmitted=!1,this.toastr.error("",n.error.error)})}}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(r.qu),t.Y36(c.O),t.Y36(l.gz),t.Y36(f._W),t.Y36(h.Dx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-reset-password"]],decls:19,vars:3,consts:[[1,"row"],[1,"col"],[3,"formGroup","keydown"],["for","password-input",1,"form-label"],["type","password","id","password-input","formControlName","password",1,"form-control"],["for","confirmpassword-input",1,"form-label"],["type","password","id","password-input","formControlName","confirmpassword",1,"form-control"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["class","spinner-border text-primary","role","status",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(s,e){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",1)(3,"h2"),t._uU(4,"Reset Password"),t.qZA()(),t._UZ(5,"div",1),t.qZA(),t.TgZ(6,"div",0),t._UZ(7,"div",1),t.TgZ(8,"div",1)(9,"form",2),t.NdJ("keydown",function(d){return e.handleKeyDownOnForm(d)}),t.TgZ(10,"label",3),t._uU(11,"Password"),t.qZA(),t._UZ(12,"input",4),t.TgZ(13,"label",5),t._uU(14,"Confirm Password"),t.qZA(),t._UZ(15,"input",6),t.YNc(16,b,2,0,"button",7),t.YNc(17,v,3,0,"div",8),t.qZA()(),t._UZ(18,"div",1),t.qZA()),2&s&&(t.xp6(9),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(7),t.Q6J("ngIf",!e.hasFormBeenSubmitted),t.xp6(1),t.Q6J("ngIf",e.hasFormBeenSubmitted))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(y),l.Bz]}),o})(),C=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,Z,r.UX]}),o})()}}]);